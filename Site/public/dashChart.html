<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./Dash - João/estilo.css">
    <link rel="stylesheet" href="./Dash - João/checkbox.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation"></script>

    <script src="./Dash - João/main.js"></script>
    <script src="./Dash - João/main-comparar.js"></script>

    <title>Document</title>

</head>

<body onload="escolherTotem(), escolherTotemCompara(), escolherTotemComparar()">
    <section class="container">
        <div class="nav">
            <div class="boxIdentificacao">
                <h1 class="fonte_perfil" id="nome_perfil"></h1>
                <h3>ANALISTA DE DADOS</h3>
            </div>
            <div class="boxOpcoes">
                <a href="dashChart.html">
                    <div class="box" style="background-color: #41446877;">ALERTAS</div>
                </a>
                <a href="dashboardAnalistaMetricas.html">
                    <div class="box" >DASHBOARD</div>
                </a>
                <a href="dashboardAnalistaRegressao.html">
                    <div class="box">PREVISÕES</div>
                </a>
            </div>
            <a href="cadastro.html">
                <div class="boxSair">SAIR</div>
            </a>
        </div>

        <!-- Dashboard Comparar -->
        <div class="comparar_totem" id="dashComparar">
            <div class="comparar_fechar">
                <h1>Comparar Totens</h1>
                <i class='bx bx-x' onclick="comparar()"></i>
            </div>
            <div class="comparar_comparator">
                <div class="totem_comparar">
                    <div class="totemComparaSelect">

                        <h1>Selecione o Totem</h1>
                        <select onchange="escolherTotemCompara()" name="totem" id="escolheTotemCompara"
                            class="selectComparar">
                            <option value="totemUm">Totem 1</option>
                            <option value="totemDois">Totem 2</option>
                            <option value="totemTres">Totem 3</option>
                        </select>

                    </div>
                    <div class="checkDiscoCompara">
                        <div class="cardCheckCompara">
                            <div class="tituloCompara">
                                <h1>Selecione oque monitorar</h1>
                            </div>
                            <div class="checkboxCompara">
                                <div id="checklist-compara1">
                                    <input value="1" name="r" type="checkbox" id="01" onclick="cpuCompara('totem1')">
                                    <label class="desabilitado" for="01">CPU</label>
                                    <input value="2" name="r" type="checkbox" id="02" onclick="ramCompara('totem1')">
                                    <label class="desabilitado" for="02">RAM</label>
                                    <input value="3" name="r" type="checkbox" id="03" onclick="discoCompara('totem1')">
                                    <label class="desabilitado" for="03">Disco</label>
                                </div>
                                <div id="checklist-compara2">
                                    <input value="1" name="r" type="checkbox" id="01" onclick="cpuCompara('totem2')">
                                    <label class="desabilitado" for="01">CPU</label>
                                    <input value="2" name="r" type="checkbox" id="02" onclick="ramCompara('totem2')">
                                    <label class="desabilitado" for="02">RAM</label>
                                    <input value="3" name="r" type="checkbox" id="03" onclick="discoCompara('totem2')">
                                    <label class="desabilitado" for="03">Disco</label>
                                </div>
                                <div id="checklist-compara3">
                                    <input value="1" name="r" type="checkbox" id="01" onclick="cpuCompara('totem3')">
                                    <label class="desabilitado" for="01">CPU</label>
                                    <input value="2" name="r" type="checkbox" id="02" onclick="ramCompara('totem3')">
                                    <label class="desabilitado" for="02">RAM</label>
                                    <input value="3" name="r" type="checkbox" id="03" onclick="discoCompara('totem3')">
                                    <label class="desabilitado" for="03">Disco</label>
                                </div>
                            </div>
                        </div>
                        <div id="totemDiscoCompara1">
                            <div class="metade-ade" id="cardDiscoCompara1">
                                <div class="div-disco">
                                    <canvas id="disco1compara"></canvas>
                                </div>
                            </div>
                        </div>
                        <div id="totemDiscoCompara2">
                            <div class="metade-ade" id="cardDiscoCompara2">
                                <div class="div-disco">
                                    <canvas id="disco2compara"></canvas>
                                </div>
                            </div>
                        </div>
                        <div id="totemDiscoCompara3">
                            <div class="metade-ade" id="cardDiscoCompara3">
                                <div class="div-disco">
                                    <canvas id="disco3compara"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="métricas-compara">
                        <div id="totemRamCpuCompara1">
                            <div class="slice2-met" id="cardCpuCompara1">
                                <div class="div-cpu">
                                    <canvas id="cpu1compara"></canvas>
                                </div>
                            </div>
                            <div class="slice2-ade" id="cardRamCompara1">
                                <div class="div-ram">
                                    <canvas id="ram1compara"></canvas>
                                </div>
                            </div>
                        </div>

                        <div id="totemRamCpuCompara2">
                            <div class="slice2-met" id="cardCpuCompara2">
                                <div class="div-cpu">
                                    <canvas id="cpu2compara"></canvas>
                                </div>
                            </div>
                            <div class="slice2-ade" id="cardRamCompara2">
                                <div class="div-ram">
                                    <canvas id="ram2compara"></canvas>
                                </div>
                            </div>
                        </div>

                        <div id="totemRamCpuCompara3">
                            <div class="slice2-met" id="cardCpuCompara3">
                                <div class="div-cpu">
                                    <canvas id="cpu3compara"></canvas>
                                </div>
                            </div>
                            <div class="slice2-ade" id="cardRamCompara3">
                                <div class="div-ram">
                                    <canvas id="ram3compara"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="totem_comparar">
                    <div class="totemComparaSelect">
                        <h1>Selecione o Totem</h1>
                        <select onchange="escolherTotemComparar()" name="totem" id="escolheTotemComparar"
                            class="selectComparar">
                            <option value="totemUm">Totem 1</option>
                            <option value="totemDois">Totem 2</option>
                            <option value="totemTres">Totem 3</option>
                        </select>
                    </div>
                    <div class="checkDiscoCompara">
                        <div class="cardCheckCompara">
                            <div class="tituloCompara">
                                <h1>Selecione oque monitorar</h1>
                            </div>
                            <div class="checkboxCompara">
                                <div id="checklist-comparar1">
                                    <input value="1" name="r" type="checkbox" id="01" onclick="cpuComparar('totem1')">
                                    <label class="desabilitado" for="01">CPU</label>
                                    <input value="2" name="r" type="checkbox" id="02" onclick="ramComparar('totem1')">
                                    <label class="desabilitado" for="02">RAM</label>
                                    <input value="3" name="r" type="checkbox" id="03" onclick="discoComparar('totem1')">
                                    <label class="desabilitado" for="03">Disco</label>
                                </div>
                                <div id="checklist-comparar2">
                                    <input value="1" name="r" type="checkbox" id="01" onclick="cpuComparar('totem2')">
                                    <label class="desabilitado" for="01">CPU</label>
                                    <input value="2" name="r" type="checkbox" id="02" onclick="ramComparar('totem2')">
                                    <label class="desabilitado" for="02">RAM</label>
                                    <input value="3" name="r" type="checkbox" id="03" onclick="discoComparar('totem2')">
                                    <label class="desabilitado" for="03">Disco</label>
                                </div>
                                <div id="checklist-comparar3">
                                    <input value="1" name="r" type="checkbox" id="01" onclick="cpuComparar('totem3')">
                                    <label class="desabilitado" for="01">CPU</label>
                                    <input value="2" name="r" type="checkbox" id="02" onclick="ramComparar('totem3')">
                                    <label class="desabilitado" for="02">RAM</label>
                                    <input value="3" name="r" type="checkbox" id="03" onclick="discoComparar('totem3')">
                                    <label class="desabilitado" for="03">Disco</label>
                                </div>
                            </div>
                        </div>
                        <div id="totemDiscoComparar1">
                            <div class="metade-ade" id="cardDiscoComparar1">
                                <div class="div-disco">
                                    <canvas id="disco1comparar"></canvas>
                                </div>
                            </div>
                        </div>
                        <div id="totemDiscoComparar2">
                            <div class="metade-ade" id="cardDiscoComparar2">
                                <div class="div-disco">
                                    <canvas id="disco2comparar"></canvas>
                                </div>
                            </div>
                        </div>
                        <div id="totemDiscoComparar3">
                            <div class="metade-ade" id="cardDiscoComparar3">
                                <div class="div-disco">
                                    <canvas id="disco3comparar"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="métricas-comparar">
                        <div id="totemRamCpuComparar1">
                            <div class="slice2-met" id="cardCpuComparar1">
                                <div class="div-cpu">
                                    <canvas id="cpu1comparar"></canvas>
                                </div>
                            </div>
                            <div class="slice2-ade" id="cardRamComparar1">
                                <div class="div-ram">
                                    <canvas id="ram1comparar"></canvas>
                                </div>
                            </div>
                        </div>

                        <div id="totemRamCpuComparar2">
                            <div class="slice2-met" id="cardCpuComparar2">
                                <div class="div-cpu">
                                    <canvas id="cpu2comparar"></canvas>
                                </div>
                            </div>
                            <div class="slice2-ade" id="cardRamComparar2">
                                <div class="div-ram">
                                    <canvas id="ram2comparar"></canvas>
                                </div>
                            </div>
                        </div>

                        <div id="totemRamCpuComparar3">
                            <div class="slice2-met" id="cardCpuComparar3">
                                <div class="div-cpu">
                                    <canvas id="cpu3comparar"></canvas>
                                </div>
                            </div>
                            <div class="slice2-ade" id="cardRamComparar3">
                                <div class="div-ram">
                                    <canvas id="ram3comparar"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Dashboard Normal -->
        <div class="dash">
            <div class="slice1">
                <div class="slice1-met">
                    <div class="metade-met">
                        <div class="selectDiscoBox">
                            <div class="selectTotem">
                                <h1>Selecione o Totem</h1>
                                <select onchange="escolherTotem()" name="totem" id="escolheTotem">
                                    <option value="totemUm">Totem 1</option>
                                    <option value="totemDois">Totem 2</option>
                                    <option value="totemTres">Totem 3</option>
                                </select>
                            </div>
                            <h1>Selecione oque monitorar</h1>
                            <div id="checklist">
                                <input value="1" name="r" type="checkbox" id="01" onclick="cpu('totem1')">
                                <label for="01">CPU</label>
                                <input value="2" name="r" type="checkbox" id="02" onclick="ram('totem1')">
                                <label for="02">RAM</label>
                                <input value="3" name="r" type="checkbox" id="03" onclick="disco('totem1')">
                                <label for="03">Disco</label>
                            </div>
                            <div id="checklist2">
                                <input value="1" name="r" type="checkbox" id="01" onclick="cpu('totem2')">
                                <label for="01">CPU</label>
                                <input value="2" name="r" type="checkbox" id="02" onclick="ram('totem2')">
                                <label for="02">RAM</label>
                                <input value="3" name="r" type="checkbox" id="03" onclick="disco('totem2')">
                                <label for="03">Disco</label>
                            </div>
                            <div id="checklist3">
                                <input value="1" name="r" type="checkbox" id="01" onclick="cpu('totem3')">
                                <label for="01">CPU</label>
                                <input value="2" name="r" type="checkbox" id="02" onclick="ram('totem3')">
                                <label for="02">RAM</label>
                                <input value="3" name="r" type="checkbox" id="03" onclick="disco('totem3')">
                                <label for="03">Disco</label>
                            </div>
                            <button onclick="comparar()">Comparar</button>
                        </div>
                    </div>
                    <div id="totemDisco1">
                        <div class="metade-ade" id="cardDisco1">
                            <div class="div-disco">
                                <canvas id="disco1"></canvas>
                            </div>
                        </div>
                    </div>
                    <div id="totemDisco2">
                        <div class="metade-ade" id="cardDisco2">
                            <div class="div-disco">
                                <canvas id="disco2"></canvas>
                            </div>
                        </div>
                    </div>
                    <div id="totemDisco3">
                        <div class="metade-ade" id="cardDisco3">
                            <div class="div-disco">
                                <canvas id="disco3"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="slice1-ade">
                    <div class="alerta-container">
                        <div class="alerta-titulo">
                            <h1>Alertas!</h1>
                        </div>
                        <div class="alerta-content">
                            <div class="alerta-alertas">
                                <table border="1" id="tabela-json">
                                    <thead>
                                        <tr>
                                            <th></th>
                                            <th>Data</th>
                                            <th>componente</th>
                                            <th>Medida</th>
                                            <th>Status</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- As linhas serão inseridas aqui dinamicamente -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <div class="alerta-button">
                            <button>Resolvido</button>
                        </div>
                    </div>
                </div>
            </div>
            <!--  totem 1 -->

            <div id="totemRamCpu1">
                <div class="slice2-met" id="cardCpu1">
                    <div class="div-cpu">
                        <canvas id="cpu1"></canvas>
                    </div>
                </div>
                <div class="slice2-ade" id="cardRam1">
                    <div class="div-ram">
                        <canvas id="ram1"></canvas>
                    </div>
                </div>
            </div>

            <!-- totem 2 -->

            <div id="totemRamCpu2">
                <div class="slice2-met" id="cardCpu2">
                    <div class="div-cpu">
                        <canvas id="cpu2"></canvas>
                    </div>
                </div>
                <div class="slice2-ade" id="cardRam2">
                    <div class="div-ram">
                        <canvas id="ram2"></canvas>
                    </div>
                </div>
            </div>

            <!--  totem 3  -->

            <div id="totemRamCpu3">
                <div class="slice2-met" id="cardCpu3">
                    <div class="div-cpu">
                        <canvas id="cpu3"></canvas>
                    </div>
                </div>
                <div class="slice2-ade" id="cardRam3">
                    <div class="div-ram">
                        <canvas id="ram3"></canvas>
                    </div>
                </div>
            </div>
        </div>


    </section>
</body>

</html>

<script>

    const nomeUsuario = sessionStorage.getItem('NOME_USUARIO');
    const fkCompanhia = sessionStorage.getItem('FK_COMPANHIA');

    if (nomeUsuario) {
        document.getElementById('nome_perfil').textContent = nomeUsuario;
    } else {
        document.getElementById('nome_perfil').textContent = 'Usuário não identificado';
    }

    function alertas() {
        fetch('/dashJoao/alertas/') // Corrigir a barra final e adicionar uma URL válida
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                var tabela = document.getElementById("tabela-json").getElementsByTagName("tbody")[0];

                // Limpa todas as linhas existentes no corpo da tabela
                tabela.innerHTML = "";

                // Cria um array para armazenar os valores das checkboxes selecionadas
                var selectedIds = [];

                // Insere os novos dados
                for (var i = 0; i < response.length; i++) {

                    // Cria uma nova linha na tabela
                    var novaLinha = tabela.insertRow();

                    // Adiciona células na nova linha
                    var celulaId = novaLinha.insertCell(0);
                    var celulaData = novaLinha.insertCell(1);
                    var celulaComponente = novaLinha.insertCell(2);
                    var celulaMedida = novaLinha.insertCell(3);
                    var celulaStatus = novaLinha.insertCell(4);

                    // Cria a checkbox e insere na célula do ID
                    var checkbox = document.createElement("input");
                    checkbox.type = "checkbox";
                    checkbox.value = response[i].idAlerta;

                    // Adiciona o evento de clique na checkbox
                    checkbox.addEventListener("change", function () {
                        // Verifica se a checkbox foi selecionada ou desmarcada
                        if (this.checked) {
                            selectedIds.push(this.value); // Adiciona o ID ao array
                        } else {
                            var index = selectedIds.indexOf(this.value);
                            if (index > -1) {
                                selectedIds.splice(index, 1); // Remove o ID do array
                            }
                        }
                    });

                    celulaId.appendChild(checkbox);

                    // Insere os valores nas outras células
                    celulaData.innerHTML = formatarHorario(response[i].dtAlerta);
                    celulaComponente.innerHTML = response[i].componente;
                    celulaMedida.innerHTML = response[i].medida;
                    celulaStatus.innerHTML = response[i].statusTotem;
                }

                // Captura o botão "Resolvido"
                var botaoResolvido = document.querySelector(".alerta-button button");

                // Adiciona o evento ao botão "Resolvido"
                botaoResolvido.addEventListener("click", function () {
                    // Passa os IDs selecionados como argumento para a função
                    if (selectedIds.length > 0) {
                        funcaoComValorDaCheckbox(selectedIds);
                        selectedIds = []; // Limpa o array de IDs
                    }
                });

                // Função que recebe o array de IDs selecionados
                function funcaoComValorDaCheckbox(id) {
                    fetch(`/dashJoao/atualizarStatus/${id}`, {
                        method: 'POST',
                        headers: {
                            "Content-Type": "application/json",
                        }
                    })
                        .then(response => response.json())
                        .then(data => {
                            console.log('Status alterado com sucesso', data);
                            alert('Status alterado com sucesso');
                        })
                        .catch(error => {
                            console.error('Erro ao alterar status', error);
                        });
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(alertas, 6000);

    // disco - 1 

    function obterDadosDisco() {
        fetch('/dashJoao/dashDisco/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeDisco = response.usage;
                const totalDisco = response.total;
                const disponivelDisco = totalDisco - usoDeDisco;

                console.log(usoDeDisco);
                console.log(totalDisco);

                if (usoDeDisco !== undefined && totalDisco !== undefined) {

                    dataDisco.datasets[0].data.push(usoDeDisco);
                    dataDisco.datasets[0].data.push(disponivelDisco);

                    chartDiscoUm.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    obterDadosDisco();

    const dataDisco = {
        labels: [
            'Em Uso',
            'Disponível',
        ],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)'
            ],
            hoverOffset: 4
        }]
    };

    const config = {
        type: 'doughnut',
        data: dataDisco,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Uso de Disco',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'center'
                }
            }
        }
    };

    const discoUmConfig = document.getElementById('disco1');
    chartDiscoUm = new Chart(discoUmConfig, config);

    // disco - 2

    function obterDadosDisco2() {
        fetch('/dashJoao/dashDisco2/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeDisco = response.usage;
                const totalDisco = response.total;
                const disponivelDisco = totalDisco - usoDeDisco;

                console.log(usoDeDisco);
                console.log(totalDisco);

                if (usoDeDisco !== undefined && totalDisco !== undefined) {

                    dataDiscoDois.datasets[0].data.push(usoDeDisco);
                    dataDiscoDois.datasets[0].data.push(disponivelDisco);

                    chartDiscoDois.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    obterDadosDisco2();


    const dataDiscoDois = {
        labels: [
            'Em Uso',
            'Disponível',
        ],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)'
            ],
            hoverOffset: 4
        }]
    };

    const configDois = {
        type: 'doughnut',
        data: dataDiscoDois,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Uso de Disco',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'center'
                }
            }
        }
    };

    const discoDoisConfig = document.getElementById('disco2');
    chartDiscoDois = new Chart(discoDoisConfig, configDois);

    // disco - 3

    function obterDadosDisco3() {
        fetch('/dashJoao/dashDisco3/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeDisco = response.usage;
                const totalDisco = response.total;
                const disponivelDisco = totalDisco - usoDeDisco;

                console.log(usoDeDisco);
                console.log(totalDisco);

                if (usoDeDisco !== undefined && totalDisco !== undefined) {

                    dataDiscoTres.datasets[0].data.push(usoDeDisco);
                    dataDiscoTres.datasets[0].data.push(disponivelDisco);

                    chartDiscoTres.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    obterDadosDisco3();

    const dataDiscoTres = {
        labels: [
            'Em Uso',
            'Disponível',
        ],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)'
            ],
            hoverOffset: 4
        }]
    };

    const configTres = {
        type: 'doughnut',
        data: dataDiscoTres,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Uso de Disco',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'center'
                }
            }
        }
    };

    const discoTresConfig = document.getElementById('disco3');
    chartDiscoTres = new Chart(discoTresConfig, configTres);

    // arredondamento de data

    function formatarHorario(dataHora) {
        const data = new Date(dataHora);
        return data.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
    }

    // cpu - 1

    function obterDadosCpu1() {
        fetch('/dashJoao/dashCpu/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeCpu = response.usage;
                const dataHoraCpu = response.dtHora;

                if (usoDeCpu !== undefined && dataHoraCpu !== undefined) {
                    const horarioFormatado = formatarHorario(dataHoraCpu);

                    if (dataCpu.labels.length >= 10) {
                        dataCpu.labels.shift();
                        dataCpu.datasets[0].data.shift();
                    }

                    dataCpu.labels.push(horarioFormatado);
                    dataCpu.datasets[0].data.push(usoDeCpu)

                    chartCpuUm.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosCpu1, 6000);

    const dataCpu = {
        labels: [],
        datasets: [{
            label: 'Uso de CPU (%)',
            data: [],
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    };

    const configCpuUm = {
        type: 'line',
        data: dataCpu,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de CPU',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            }
        }
    };

    const cpuUmConfig = document.getElementById('cpu1');
    const chartCpuUm = new Chart(cpuUmConfig, configCpuUm);

    // cpu - 2

    function obterDadosCpu2() {
        fetch('/dashJoao/dashCpu2/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeCpu = response.usage;
                const dataHoraCpu = response.dtHora;

                if (usoDeCpu !== undefined && dataHoraCpu !== undefined) {
                    const horarioFormatado = formatarHorario(dataHoraCpu);

                    if (dataCpuDois.labels.length >= 10) {
                        dataCpuDois.labels.shift();
                        dataCpuDois.datasets[0].data.shift();
                    }

                    dataCpuDois.labels.push(horarioFormatado);
                    dataCpuDois.datasets[0].data.push(usoDeCpu);

                    chartCpuDois.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosCpu2, 6000);

    const dataCpuDois = {
        labels: [],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    };

    const configCpuDois = {
        type: 'line',
        data: dataCpuDois,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de CPU',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            }
        }
    };

    const cpuDoisConfig = document.getElementById('cpu2');
    const chartCpuDois = new Chart(cpuDoisConfig, configCpuDois);

    // cpu - 3

    function obterDadosCpu3() {
        fetch('/dashJoao/dashCpu3/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeCpu = response.usage;
                const dataHoraCpu = response.dtHora;

                if (usoDeCpu !== undefined && dataHoraCpu !== undefined) {
                    const horarioFormatado = formatarHorario(dataHoraCpu);

                    if (dataCpuTres.labels.length >= 10) {
                        dataCpuTres.labels.shift();
                        dataCpuTres.datasets[0].data.shift();
                    }

                    dataCpuTres.labels.push(horarioFormatado);
                    dataCpuTres.datasets[0].data.push(usoDeCpu)

                    chartCpuTres.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosCpu3, 6000);

    const dataCpuTres = {
        labels: [],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    };

    // cpu 4
    const configCpuTres = {
        type: 'line',
        data: dataCpuTres,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de CPU',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            }
        }
    };

    const cpuTresConfig = document.getElementById('cpu3');
    chartCpuTres = new Chart(cpuTresConfig, configCpuTres);

    // ram - 1

    function obterDadosRam() {
        fetch('/dashJoao/dashRam/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeRam = response.percent;
                const dataHoraRam = response.dtHora;

                if (usoDeRam !== undefined && dataHoraRam !== undefined) {
                    const horarioFormatado = formatarHorario(dataHoraRam);

                    if (dataRamUm.labels.length >= 10) {
                        dataRamUm.labels.shift();
                        dataRamUm.datasets[0].data.shift();
                    }

                    dataRamUm.labels.push(horarioFormatado);
                    dataRamUm.datasets[0].data.push(usoDeRam)

                    chartRamUm.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosRam, 6000);

    const dataRamUm = {
        labels: [],
        datasets: [{
            label: 'Uso de RAM',
            data: [],
            fill: true,
            borderColor: 'rgb(75, 192, 192)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            tension: 0.1,
        }]
    };

    const configUmRam = {
        type: 'line',
        data: dataRamUm,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de RAM',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        }
    };

    const ramUmConfig = document.getElementById('ram1');
    chartRamUm = new Chart(ramUmConfig, configUmRam);

    // ram - 2

    function obterDadosRam2() {
        fetch('/dashJoao/dashRam2/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeRam = response.percent;
                const dataHoraRam = response.dtHora;


                if (usoDeRam !== undefined && dataHoraRam !== undefined) {
                    const horarioFormatado = formatarHorario(dataHoraRam);

                    if (dataRamDois.labels.length >= 10) {
                        dataRamDois.labels.shift();
                        dataRamDois.datasets[0].data.shift();
                    }

                    dataRamDois.labels.push(horarioFormatado);
                    dataRamDois.datasets[0].data.push(usoDeRam)

                    chartRamDois.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosRam2, 6000);

    const dataRamDois = {
        labels: [],
        datasets: [{
            label: 'Uso de RAM',
            data: [],
            fill: true,
            borderColor: 'rgb(75, 192, 192)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            tension: 0.1,
        }]
    };

    const configDoisRam = {
        type: 'line',
        data: dataRamDois,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de RAM',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        }
    };

    const ramDoisConfig = document.getElementById('ram2');
    chartRamDois = new Chart(ramDoisConfig, configDoisRam);

    // ram - 3

    function obterDadosRam3() {
        fetch('/dashJoao/dashRam3/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeRam = response.percent;
                const dataHoraRam = response.dtHora;

                if (usoDeRam !== undefined && dataHoraRam !== undefined) {
                    const horarioFormatado = formatarHorario(dataHoraRam);

                    if (dataRamTres.labels.length >= 10) {
                        dataRamTres.labels.shift();
                        dataRamTres.datasets[0].data.shift();
                    }

                    dataRamTres.labels.push(horarioFormatado);
                    dataRamTres.datasets[0].data.push(usoDeRam)

                    chartRamTres.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosRam3, 6000);

    const dataRamTres = {
        labels: [],
        datasets: [{
            label: 'Uso de RAM',
            data: [],
            fill: true,
            borderColor: 'rgb(75, 192, 192)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            tension: 0.1,
        }]
    };

    const configTresRam = {
        type: 'line',
        data: dataRamTres,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de RAM',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        }
    };

    const ramTresConfig = document.getElementById('ram3');
    chartRamTres = new Chart(ramTresConfig, configTresRam);

    // compara 1 

    function obterDadosDiscoCompara() {
        fetch('/dashJoao/dashDisco/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeDisco = response.usage;
                const totalDisco = response.total;
                const disponivelDisco = totalDisco - usoDeDisco;

                console.log(usoDeDisco);
                console.log(totalDisco);

                if (usoDeDisco !== undefined && totalDisco !== undefined) {

                    dataDiscoCompara.datasets[0].data.push(usoDeDisco);
                    dataDiscoCompara.datasets[0].data.push(disponivelDisco);

                    chartDiscoUmCompara.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    obterDadosDiscoCompara();

    const dataDiscoCompara = {
        labels: [
            'Em Uso',
            'Disponível',
        ],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)'
            ],
            hoverOffset: 4
        }]
    };

    const configCompara = {
        type: 'doughnut',
        data: dataDiscoCompara,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Uso de Disco',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'center'
                }
            }
        }
    };

    const discoUmConfigCompara = document.getElementById('disco1compara');
    chartDiscoUmCompara = new Chart(discoUmConfigCompara, configCompara);

    function obterDadosDisco2Compara() {
        fetch('/dashJoao/dashDisco2/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeDisco = response.usage;
                const totalDisco = response.total;
                const disponivelDisco = totalDisco - usoDeDisco;

                console.log(usoDeDisco);
                console.log(totalDisco);

                if (usoDeDisco !== undefined && totalDisco !== undefined) {

                    dataDiscoDoisCompara.datasets[0].data.push(usoDeDisco);
                    dataDiscoDoisCompara.datasets[0].data.push(disponivelDisco);

                    chartDiscoDoisCompara.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    obterDadosDisco2Compara();


    const dataDiscoDoisCompara = {
        labels: [
            'Em Uso',
            'Disponível',
        ],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)'
            ],
            hoverOffset: 4
        }]
    };

    const configDoisCompara = {
        type: 'doughnut',
        data: dataDiscoDoisCompara,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Uso de Disco',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'center'
                }
            }
        }
    };

    const discoDoisConfigCompara = document.getElementById('disco2compara');
    chartDiscoDoisCompara = new Chart(discoDoisConfigCompara, configDoisCompara);

    function obterDadosDisco3Compara() {
        fetch('/dashJoao/dashDisco3/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeDisco = response.usage;
                const totalDisco = response.total;
                const disponivelDisco = totalDisco - usoDeDisco;

                console.log(usoDeDisco);
                console.log(totalDisco);

                if (usoDeDisco !== undefined && totalDisco !== undefined) {

                    dataDiscoTresCompara.datasets[0].data.push(usoDeDisco);
                    dataDiscoTresCompara.datasets[0].data.push(disponivelDisco);

                    chartDiscoTresCompara.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    obterDadosDisco3Compara();

    const dataDiscoTresCompara = {
        labels: [
            'Em Uso',
            'Disponível',
        ],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)'
            ],
            hoverOffset: 4
        }]
    };

    const configTresCompara = {
        type: 'doughnut',
        data: dataDiscoTresCompara,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Uso de Disco',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'center'
                }
            }
        }
    };

    const discoTresConfigCompara = document.getElementById('disco3compara');
    chartDiscoTresCompara = new Chart(discoTresConfigCompara, configTresCompara);

    function formatarHorarioCompara(dataHora) {
        const data = new Date(dataHora);
        return data.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
    }

    function obterDadosCpu1Compara() {
        fetch('/dashJoao/dashCpu/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeCpu = response.usage;
                const dataHoraCpu = response.dtHora;

                if (usoDeCpu !== undefined && dataHoraCpu !== undefined) {
                    const horarioFormatado = formatarHorarioCompara(dataHoraCpu);

                    if (dataCpuCompara.labels.length >= 10) {
                        dataCpuCompara.labels.shift();
                        dataCpuCompara.datasets[0].data.shift();
                    }

                    dataCpuCompara.labels.push(horarioFormatado);
                    dataCpuCompara.datasets[0].data.push(usoDeCpu)

                    chartCpuUmCompara.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosCpu1Compara, 6000);

    const dataCpuCompara = {
        labels: [],
        datasets: [{
            label: 'Uso de CPU (%)',
            data: [],
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    };

    const configCpuUmCompara = {
        type: 'line',
        data: dataCpuCompara,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de CPU',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            }
        }
    };

    const cpuUmConfigCompara = document.getElementById('cpu1compara');
    const chartCpuUmCompara = new Chart(cpuUmConfigCompara, configCpuUmCompara);



    // cpu - 2

    function obterDadosCpu2Compara() {
        fetch('/dashJoao/dashCpu2/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeCpu = response.usage;
                const dataHoraCpu = response.dtHora;

                if (usoDeCpu !== undefined && dataHoraCpu !== undefined) {
                    const horarioFormatado = formatarHorarioCompara(dataHoraCpu);

                    if (dataCpuDoisCompara.labels.length >= 10) {
                        dataCpuDoisCompara.labels.shift();
                        dataCpuDoisCompara.datasets[0].data.shift();
                    }

                    dataCpuDoisCompara.labels.push(horarioFormatado);
                    dataCpuDoisCompara.datasets[0].data.push(usoDeCpu);

                    chartCpuDoisCompara.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosCpu2Compara, 6000);

    const dataCpuDoisCompara = {
        labels: [],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    };

    const configCpuDoisCompara = {
        type: 'line',
        data: dataCpuDoisCompara,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de CPU',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            }
        }
    };

    const cpuDoisConfigCompara = document.getElementById('cpu2compara');
    const chartCpuDoisCompara = new Chart(cpuDoisConfigCompara, configCpuDoisCompara);


    // cpu - 3

    function obterDadosCpu3Compara() {
        fetch('/dashJoao/dashCpu3/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeCpu = response.usage;
                const dataHoraCpu = response.dtHora;

                if (usoDeCpu !== undefined && dataHoraCpu !== undefined) {
                    const horarioFormatado = formatarHorarioCompara(dataHoraCpu);

                    if (dataCpuTresCompara.labels.length >= 10) {
                        dataCpuTresCompara.labels.shift();
                        dataCpuTresCompara.datasets[0].data.shift();
                    }

                    dataCpuTresCompara.labels.push(horarioFormatado);
                    dataCpuTresCompara.datasets[0].data.push(usoDeCpu)

                    chartCpuTresCompara.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosCpu3Compara, 6000);

    const dataCpuTresCompara = {
        labels: [],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    };

    // cpu 4
    const configCpuTresCompara = {
        type: 'line',
        data: dataCpuTresCompara,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de CPU',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            }
        }
    };

    const cpuTresConfigCompara = document.getElementById('cpu3compara');
    chartCpuTresCompara = new Chart(cpuTresConfigCompara, configCpuTresCompara);

    function obterDadosRamCompara() {
        fetch('/dashJoao/dashRam/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeRam = response.percent;
                const dataHoraRam = response.dtHora;

                if (usoDeRam !== undefined && dataHoraRam !== undefined) {
                    const horarioFormatado = formatarHorarioCompara(dataHoraRam);

                    if (dataRamUmCompara.labels.length >= 10) {
                        dataRamUmCompara.labels.shift();
                        dataRamUmCompara.datasets[0].data.shift();
                    }

                    dataRamUmCompara.labels.push(horarioFormatado);
                    dataRamUmCompara.datasets[0].data.push(usoDeRam)

                    chartRamUmCompara.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosRamCompara, 6000);

    const dataRamUmCompara = {
        labels: [],
        datasets: [{
            label: 'Uso de RAM',
            data: [],
            fill: true,
            borderColor: 'rgb(75, 192, 192)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            tension: 0.1,
        }]
    };

    const configUmRamCompara = {
        type: 'line',
        data: dataRamUmCompara,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de RAM',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        }
    };

    const ramUmConfigCompara = document.getElementById('ram1compara');
    chartRamUmCompara = new Chart(ramUmConfigCompara, configUmRamCompara);

    // ram - 2

    function obterDadosRam2Compara() {
        fetch('/dashJoao/dashRam2/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeRam = response.percent;
                const dataHoraRam = response.dtHora;


                if (usoDeRam !== undefined && dataHoraRam !== undefined) {
                    const horarioFormatado = formatarHorarioCompara(dataHoraRam);

                    if (dataRamDoisCompara.labels.length >= 10) {
                        dataRamDoisCompara.labels.shift();
                        dataRamDoisCompara.datasets[0].data.shift();
                    }

                    dataRamDoisCompara.labels.push(horarioFormatado);
                    dataRamDoisCompara.datasets[0].data.push(usoDeRam)

                    chartRamDoisCompara.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosRam2Compara, 6000);

    const dataRamDoisCompara = {
        labels: [],
        datasets: [{
            label: 'Uso de RAM',
            data: [],
            fill: true,
            borderColor: 'rgb(75, 192, 192)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            tension: 0.1,
        }]
    };

    const configDoisRamCompara = {
        type: 'line',
        data: dataRamDoisCompara,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de RAM',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        }
    };

    const ramDoisConfigCompara = document.getElementById('ram2compara');
    chartRamDoisCompara = new Chart(ramDoisConfigCompara, configDoisRamCompara);

    // ram - 3

    function obterDadosRam3Compara() {
        fetch('/dashJoao/dashRam3/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeRam = response.percent;
                const dataHoraRam = response.dtHora;

                if (usoDeRam !== undefined && dataHoraRam !== undefined) {
                    const horarioFormatado = formatarHorarioCompara(dataHoraRam);

                    if (dataRamTresCompara.labels.length >= 10) {
                        dataRamTresCompara.labels.shift();
                        dataRamTresCompara.datasets[0].data.shift();
                    }

                    dataRamTresCompara.labels.push(horarioFormatado);
                    dataRamTresCompara.datasets[0].data.push(usoDeRam)

                    chartRamTresCompara.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosRam3Compara, 6000);

    const dataRamTresCompara = {
        labels: [],
        datasets: [{
            label: 'Uso de RAM',
            data: [],
            fill: true,
            borderColor: 'rgb(75, 192, 192)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            tension: 0.1,
        }]
    };

    const configTresRamCompara = {
        type: 'line',
        data: dataRamTresCompara,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de RAM',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        }
    };

    const ramTresConfigCompara = document.getElementById('ram3compara');
    chartRamTresCompara = new Chart(ramTresConfigCompara, configTresRamCompara);

    // compara 2

    function obterDadosDiscoComparar() {
        fetch('/dashJoao/dashDisco/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeDisco = response.usage;
                const totalDisco = response.total;
                const disponivelDisco = totalDisco - usoDeDisco;

                console.log(usoDeDisco);
                console.log(totalDisco);

                if (usoDeDisco !== undefined && totalDisco !== undefined) {

                    dataDiscoComparar.datasets[0].data.push(usoDeDisco);
                    dataDiscoComparar.datasets[0].data.push(disponivelDisco);

                    chartDiscoUmComparar.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    obterDadosDiscoComparar();

    const dataDiscoComparar = {
        labels: [
            'Em Uso',
            'Disponível',
        ],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)'
            ],
            hoverOffset: 4
        }]
    };

    const configComparar = {
        type: 'doughnut',
        data: dataDiscoComparar,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Uso de Disco',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'center'
                }
            }
        }
    };

    const discoUmConfigComparar = document.getElementById('disco1comparar');
    chartDiscoUmComparar = new Chart(discoUmConfigComparar, configComparar);

    function obterDadosDisco2Comparar() {
        fetch('/dashJoao/dashDisco2/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeDisco = response.usage;
                const totalDisco = response.total;
                const disponivelDisco = totalDisco - usoDeDisco;

                console.log(usoDeDisco);
                console.log(totalDisco);

                if (usoDeDisco !== undefined && totalDisco !== undefined) {

                    dataDiscoDoisComparar.datasets[0].data.push(usoDeDisco);
                    dataDiscoDoisComparar.datasets[0].data.push(disponivelDisco);

                    chartDiscoDoisComparar.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    obterDadosDisco2Comparar();


    const dataDiscoDoisComparar = {
        labels: [
            'Em Uso',
            'Disponível',
        ],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)'
            ],
            hoverOffset: 4
        }]
    };

    const configDoisComparar = {
        type: 'doughnut',
        data: dataDiscoDoisComparar,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Uso de Disco',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'center'
                }
            }
        }
    };

    const discoDoisConfigComparar = document.getElementById('disco2comparar');
    chartDiscoDoisComparar = new Chart(discoDoisConfigComparar, configDoisComparar);

    function obterDadosDisco3Comparar() {
        fetch('/dashJoao/dashDisco3/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeDisco = response.usage;
                const totalDisco = response.total;
                const disponivelDisco = totalDisco - usoDeDisco;

                console.log(usoDeDisco);
                console.log(totalDisco);

                if (usoDeDisco !== undefined && totalDisco !== undefined) {

                    dataDiscoTresComparar.datasets[0].data.push(usoDeDisco);
                    dataDiscoTresComparar.datasets[0].data.push(disponivelDisco);

                    chartDiscoTresComparar.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    obterDadosDisco3Comparar();

    const dataDiscoTresComparar = {
        labels: [
            'Em Uso',
            'Disponível',
        ],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            backgroundColor: [
                'rgb(255, 99, 132)',
                'rgb(54, 162, 235)'
            ],
            hoverOffset: 4
        }]
    };

    const configTresComparar = {
        type: 'doughnut',
        data: dataDiscoTresComparar,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Uso de Disco',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'center'
                }
            }
        }
    };

    const discoTresConfigComparar = document.getElementById('disco3comparar');
    chartDiscoTresComparar = new Chart(discoTresConfigComparar, configTresComparar);

    function formatarHorarioComparar(dataHora) {
        const data = new Date(dataHora);
        return data.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
    }

    function obterDadosCpu1Comparar() {
        fetch('/dashJoao/dashCpu/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeCpu = response.usage;
                const dataHoraCpu = response.dtHora;

                if (usoDeCpu !== undefined && dataHoraCpu !== undefined) {
                    const horarioFormatado = formatarHorarioComparar(dataHoraCpu);

                    if (dataCpuComparar.labels.length >= 10) {
                        dataCpuComparar.labels.shift();
                        dataCpuComparar.datasets[0].data.shift();
                    }

                    dataCpuComparar.labels.push(horarioFormatado);
                    dataCpuComparar.datasets[0].data.push(usoDeCpu)

                    chartCpuUmComparar.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosCpu1Comparar, 6000);

    const dataCpuComparar = {
        labels: [],
        datasets: [{
            label: 'Uso de CPU (%)',
            data: [],
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    };

    const configCpuUmComparar = {
        type: 'line',
        data: dataCpuComparar,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de CPU',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            }
        }
    };

    const cpuUmConfigComparar = document.getElementById('cpu1comparar');
    const chartCpuUmComparar = new Chart(cpuUmConfigComparar, configCpuUmComparar);



    // cpu - 2

    function obterDadosCpu2Comparar() {
        fetch('/dashJoao/dashCpu2/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeCpu = response.usage;
                const dataHoraCpu = response.dtHora;

                if (usoDeCpu !== undefined && dataHoraCpu !== undefined) {
                    const horarioFormatado = formatarHorarioComparar(dataHoraCpu);

                    if (dataCpuDoisComparar.labels.length >= 10) {
                        dataCpuDoisComparar.labels.shift();
                        dataCpuDoisComparar.datasets[0].data.shift();
                    }

                    dataCpuDoisComparar.labels.push(horarioFormatado);
                    dataCpuDoisComparar.datasets[0].data.push(usoDeCpu);

                    chartCpuDoisComparar.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosCpu2Comparar, 6000);

    const dataCpuDoisComparar = {
        labels: [],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    };

    const configCpuDoisComparar = {
        type: 'line',
        data: dataCpuDoisComparar,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de CPU',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial'
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            }
        }
    };

    const cpuDoisConfigComparar = document.getElementById('cpu2comparar');
    const chartCpuDoisComparar = new Chart(cpuDoisConfigComparar, configCpuDoisComparar);


    // cpu - 3

    function obterDadosCpu3Comparar() {
        fetch('/dashJoao/dashCpu3/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeCpu = response.usage;
                const dataHoraCpu = response.dtHora;

                if (usoDeCpu !== undefined && dataHoraCpu !== undefined) {
                    const horarioFormatado = formatarHorarioComparar(dataHoraCpu);

                    if (dataCpuTresComparar.labels.length >= 10) {
                        dataCpuTresComparar.labels.shift();
                        dataCpuTresComparar.datasets[0].data.shift();
                    }

                    dataCpuTresComparar.labels.push(horarioFormatado);
                    dataCpuTresComparar.datasets[0].data.push(usoDeCpu)

                    chartCpuTresComparar.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosCpu3Comparar, 6000);

    const dataCpuTresComparar = {
        labels: [],
        datasets: [{
            label: 'My First Dataset',
            data: [],
            fill: false,
            borderColor: 'rgb(75, 192, 192)',
            tension: 0.1
        }]
    };

    // cpu 4
    const configCpuTresComparar = {
        type: 'line',
        data: dataCpuTresComparar,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de CPU',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            }
        }
    };

    const cpuTresConfigComparar = document.getElementById('cpu3comparar');
    chartCpuTresComparar = new Chart(cpuTresConfigComparar, configCpuTresComparar);

    function obterDadosRamComparar() {
        fetch('/dashJoao/dashRam/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeRam = response.percent;
                const dataHoraRam = response.dtHora;

                if (usoDeRam !== undefined && dataHoraRam !== undefined) {
                    const horarioFormatado = formatarHorarioComparar(dataHoraRam);

                    if (dataRamUmComparar.labels.length >= 10) {
                        dataRamUmComparar.labels.shift();
                        dataRamUmComparar.datasets[0].data.shift();
                    }

                    dataRamUmComparar.labels.push(horarioFormatado);
                    dataRamUmComparar.datasets[0].data.push(usoDeRam)

                    chartRamUmComparar.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosRamComparar, 6000);

    const dataRamUmComparar = {
        labels: [],
        datasets: [{
            label: 'Uso de RAM',
            data: [],
            fill: true,
            borderColor: 'rgb(75, 192, 192)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            tension: 0.1,
        }]
    };

    const configUmRamComparar = {
        type: 'line',
        data: dataRamUmComparar,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de RAM',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        }
    };

    const ramUmConfigComparar = document.getElementById('ram1comparar');
    chartRamUmComparar = new Chart(ramUmConfigComparar, configUmRamComparar);

    // ram - 2

    function obterDadosRam2Comparar() {
        fetch('/dashJoao/dashRam2/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeRam = response.percent;
                const dataHoraRam = response.dtHora;


                if (usoDeRam !== undefined && dataHoraRam !== undefined) {
                    const horarioFormatado = formatarHorarioComparar(dataHoraRam);

                    if (dataRamDoisComparar.labels.length >= 10) {
                        dataRamDoisComparar.labels.shift();
                        dataRamDoisComparar.datasets[0].data.shift();
                    }

                    dataRamDoisComparar.labels.push(horarioFormatado);
                    dataRamDoisComparar.datasets[0].data.push(usoDeRam)

                    chartRamDoisComparar.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosRam2Comparar, 6000);

    const dataRamDoisComparar = {
        labels: [],
        datasets: [{
            label: 'Uso de RAM',
            data: [],
            fill: true,
            borderColor: 'rgb(75, 192, 192)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            tension: 0.1,
        }]
    };

    const configDoisRamComparar = {
        type: 'line',
        data: dataRamDoisComparar,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de RAM',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        }
    };

    const ramDoisConfigComparar = document.getElementById('ram2comparar');
    chartRamDoisComparar = new Chart(ramDoisConfigComparar, configDoisRamComparar);

    // ram - 3

    function obterDadosRam3Comparar() {
        fetch('/dashJoao/dashRam3/')
            .then(response => {
                if (!response.ok) {
                    throw new Error(`Erro na requisição: ${response.status} - ${response.statusText}`);
                }
                return response.json();
            })
            .then(response => {
                const usoDeRam = response.percent;
                const dataHoraRam = response.dtHora;

                if (usoDeRam !== undefined && dataHoraRam !== undefined) {
                    const horarioFormatado = formatarHorarioComparar(dataHoraRam);

                    if (dataRamTresComparar.labels.length >= 10) {
                        dataRamTresComparar.labels.shift();
                        dataRamTresComparar.datasets[0].data.shift();
                    }

                    dataRamTresComparar.labels.push(horarioFormatado);
                    dataRamTresComparar.datasets[0].data.push(usoDeRam)

                    chartRamTresComparar.update();
                } else {
                    console.error('Erro: Dados inválidos recebidos do servidor.', response);
                }
            })
            .catch(function (error) {
                console.error(`Erro na obtenção dos dados para o gráfico: ${error.message}`);
            });
    }

    setInterval(obterDadosRam3Comparar, 6000);

    const dataRamTresComparar = {
        labels: [],
        datasets: [{
            label: 'Uso de RAM',
            data: [],
            fill: true,
            borderColor: 'rgb(75, 192, 192)',
            backgroundColor: 'rgba(75, 192, 192, 0.2)',
            tension: 0.1,
        }]
    };

    const configTresRamComparar = {
        type: 'line',
        data: dataRamTresComparar,
        options: {
            responsive: true,
            plugins: {
                title: {
                    display: true,
                    text: 'Monitoramento de RAM',
                    font: {
                        size: 18,
                        weight: 'bold',
                        family: 'Arial',
                    },
                    color: 'black',
                    padding: {
                        top: 10,
                        bottom: 30
                    },
                    align: 'start'
                },
                annotation: {
                    annotations: {
                        line1: {
                            type: 'line',
                            yMin: 80,
                            yMax: 80,
                            borderColor: 'red',
                            borderWidth: 2,
                            borderDash: [5, 5],
                            label: {
                                enabled: true,
                                content: 'Limite de 80',
                                position: 'center',
                                font: {
                                    size: 14,
                                    weight: 'bold'
                                },
                                color: 'red'
                            }
                        }
                    }
                }
            },
            scales: {
                y: {
                    beginAtZero: true,
                },
            },
        }
    };

    const ramTresConfigComparar = document.getElementById('ram3comparar');
    chartRamTresComparar = new Chart(ramTresConfigComparar, configTresRamComparar);


</script>